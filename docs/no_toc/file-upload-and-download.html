<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 File Upload and Download | Fred Hutch Cluster 101</title>
  <meta name="description" content="Description about Course/Book." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 File Upload and Download | Fred Hutch Cluster 101" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Description about Course/Book." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 File Upload and Download | Fred Hutch Cluster 101" />
  
  <meta name="twitter:description" content="Description about Course/Book." />
  



<meta name="date" content="2023-10-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon" />
<link rel="prev" href="submit-your-first-job.html"/>
<link rel="next" href="interactive-session.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<a href="https://hutchdatascience.org/" target="_blank"><img src="assets/big-dasl-stacked.png" style="width: 80%; padding-left: 34px; padding-top: 8px;"</a>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this Course</a></li>
<li class="part"><span><b>Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="what-is-a-cluster.html"><a href="what-is-a-cluster.html"><i class="fa fa-check"></i><b>1</b> What is a Cluster</a></li>
<li class="chapter" data-level="2" data-path="account-setup.html"><a href="account-setup.html"><i class="fa fa-check"></i><b>2</b> Account Setup</a>
<ul>
<li class="chapter" data-level="2.1" data-path="account-setup.html"><a href="account-setup.html#check-your-hutchnet-id"><i class="fa fa-check"></i><b>2.1</b> Check your HutchNet ID</a></li>
<li class="chapter" data-level="2.2" data-path="account-setup.html"><a href="account-setup.html#pi-account"><i class="fa fa-check"></i><b>2.2</b> Connect to a PI Account</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="skip-to-certification.html"><a href="skip-to-certification.html"><i class="fa fa-check"></i>Skip to Certification</a></li>
<li class="part"><span><b>Cluster 101</b></span></li>
<li class="chapter" data-level="3" data-path="terminal.html"><a href="terminal.html"><i class="fa fa-check"></i><b>3</b> Terminal Setup</a>
<ul>
<li class="chapter" data-level="3.1" data-path="terminal.html"><a href="terminal.html#what-is-a-terminal"><i class="fa fa-check"></i><b>3.1</b> What is a terminal?</a></li>
<li class="chapter" data-level="3.2" data-path="terminal.html"><a href="terminal.html#windows"><i class="fa fa-check"></i><b>3.2</b> Windows Setup</a></li>
<li class="chapter" data-level="3.3" data-path="terminal.html"><a href="terminal.html#mac"><i class="fa fa-check"></i><b>3.3</b> Mac Setup</a></li>
<li class="chapter" data-level="3.4" data-path="terminal.html"><a href="terminal.html#linux"><i class="fa fa-check"></i><b>3.4</b> Linux Setup</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="logging-in.html"><a href="logging-in.html"><i class="fa fa-check"></i><b>4</b> Logging In</a>
<ul>
<li class="chapter" data-level="4.1" data-path="logging-in.html"><a href="logging-in.html#what-is-ssh"><i class="fa fa-check"></i><b>4.1</b> What is <code>SSH</code>?</a></li>
<li class="chapter" data-level="4.2" data-path="logging-in.html"><a href="logging-in.html#connect-securely"><i class="fa fa-check"></i><b>4.2</b> Connect Securely</a></li>
<li class="chapter" data-level="4.3" data-path="logging-in.html"><a href="logging-in.html#windows-login"><i class="fa fa-check"></i><b>4.3</b> Windows Login</a></li>
<li class="chapter" data-level="4.4" data-path="logging-in.html"><a href="logging-in.html#mac-login"><i class="fa fa-check"></i><b>4.4</b> Mac Login</a></li>
<li class="chapter" data-level="4.5" data-path="logging-in.html"><a href="logging-in.html#linux-login"><i class="fa fa-check"></i><b>4.5</b> Linux Login</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="submit-your-first-job.html"><a href="submit-your-first-job.html"><i class="fa fa-check"></i><b>5</b> Submit Your First Job</a>
<ul>
<li class="chapter" data-level="5.1" data-path="submit-your-first-job.html"><a href="submit-your-first-job.html#download-the-script"><i class="fa fa-check"></i><b>5.1</b> Download the Script</a></li>
<li class="chapter" data-level="5.2" data-path="submit-your-first-job.html"><a href="submit-your-first-job.html#confirm-the-download"><i class="fa fa-check"></i><b>5.2</b> Confirm the Download</a></li>
<li class="chapter" data-level="5.3" data-path="submit-your-first-job.html"><a href="submit-your-first-job.html#inspect-the-script"><i class="fa fa-check"></i><b>5.3</b> Inspect the Script</a></li>
<li class="chapter" data-level="5.4" data-path="submit-your-first-job.html"><a href="submit-your-first-job.html#submit-the-script"><i class="fa fa-check"></i><b>5.4</b> Submit the Script</a></li>
<li class="chapter" data-level="5.5" data-path="submit-your-first-job.html"><a href="submit-your-first-job.html#check-the-output"><i class="fa fa-check"></i><b>5.5</b> Check the Output</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="file-upload-and-download.html"><a href="file-upload-and-download.html"><i class="fa fa-check"></i><b>6</b> File Upload and Download</a>
<ul>
<li class="chapter" data-level="6.1" data-path="file-upload-and-download.html"><a href="file-upload-and-download.html#download-cyberduck"><i class="fa fa-check"></i><b>6.1</b> Download Cyberduck</a></li>
<li class="chapter" data-level="6.2" data-path="file-upload-and-download.html"><a href="file-upload-and-download.html#create-connection"><i class="fa fa-check"></i><b>6.2</b> Create Connection</a></li>
<li class="chapter" data-level="6.3" data-path="file-upload-and-download.html"><a href="file-upload-and-download.html#download-and-edit-the-script"><i class="fa fa-check"></i><b>6.3</b> Download and Edit the Script</a></li>
<li class="chapter" data-level="6.4" data-path="file-upload-and-download.html"><a href="file-upload-and-download.html#upload-the-new-script"><i class="fa fa-check"></i><b>6.4</b> Upload the New Script</a></li>
<li class="chapter" data-level="6.5" data-path="file-upload-and-download.html"><a href="file-upload-and-download.html#run-the-new-script"><i class="fa fa-check"></i><b>6.5</b> Run the New Script</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="interactive-session.html"><a href="interactive-session.html"><i class="fa fa-check"></i><b>7</b> Interactive Session</a>
<ul>
<li class="chapter" data-level="7.1" data-path="interactive-session.html"><a href="interactive-session.html#starting-the-session"><i class="fa fa-check"></i><b>7.1</b> Starting the session</a></li>
<li class="chapter" data-level="7.2" data-path="interactive-session.html"><a href="interactive-session.html#running-interactive-commands"><i class="fa fa-check"></i><b>7.2</b> Running Interactive Commands</a></li>
<li class="chapter" data-level="7.3" data-path="interactive-session.html"><a href="interactive-session.html#using-pre-installed-software-modules"><i class="fa fa-check"></i><b>7.3</b> Using Pre-installed Software Modules</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="help.html"><a href="help.html"><i class="fa fa-check"></i><b>8</b> Getting Help</a>
<ul>
<li class="chapter" data-level="" data-path="help.html"><a href="help.html#check-out-the-faq-page"><i class="fa fa-check"></i>Check out the FAQ page</a></li>
<li class="chapter" data-level="" data-path="help.html"><a href="help.html#find-community-support-on-slack"><i class="fa fa-check"></i>Find Community Support on Slack</a></li>
<li class="chapter" data-level="" data-path="help.html"><a href="help.html#visit-the-sciwiki"><i class="fa fa-check"></i>Visit the SciWiki</a></li>
<li class="chapter" data-level="" data-path="help.html"><a href="help.html#send-an-email"><i class="fa fa-check"></i>Send an Email</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>9</b> Summary</a>
<ul>
<li class="chapter" data-level="9.1" data-path="summary.html"><a href="summary.html#overview"><i class="fa fa-check"></i><b>9.1</b> Overview</a></li>
<li class="chapter" data-level="9.2" data-path="summary.html"><a href="summary.html#glossary"><i class="fa fa-check"></i><b>9.2</b> Glossary</a></li>
<li class="chapter" data-level="9.3" data-path="summary.html"><a href="summary.html#commands-command-line-interface"><i class="fa fa-check"></i><b>9.3</b> Commands (command line interface)</a></li>
</ul></li>
<li class="part"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="10" data-path="feedback.html"><a href="feedback.html"><i class="fa fa-check"></i><b>10</b> Provide Feedback</a></li>
<li class="chapter" data-level="11" data-path="faq-and-troubleshooting.html"><a href="faq-and-troubleshooting.html"><i class="fa fa-check"></i><b>11</b> FAQ and Troubleshooting</a>
<ul>
<li class="chapter" data-level="11.1" data-path="faq-and-troubleshooting.html"><a href="faq-and-troubleshooting.html#faq"><i class="fa fa-check"></i><b>11.1</b> FAQ</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="faq-and-troubleshooting.html"><a href="faq-and-troubleshooting.html#manual-putty"><i class="fa fa-check"></i><b>11.1.1</b> How can I manually install PuTTY?</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="faq-and-troubleshooting.html"><a href="faq-and-troubleshooting.html#troubleshooting"><i class="fa fa-check"></i><b>11.2</b> Troubleshooting</a>
<ul>
<li><a href="faq-and-troubleshooting.html#ssh-could-not-resolve-hostname-rhino-nodename-nor-servname-provided-or-not-known"><code>ssh: Could not resolve hostname rhino: nodename nor servname provided, or not known</code></a></li>
<li><a href="faq-and-troubleshooting.html#ssh-connect-to-host-rhino-port-22-undefined-error-0"><code>ssh: connect to host rhino port 22: Undefined error: 0</code></a></li>
<li><a href="faq-and-troubleshooting.html#connection-failed-message-in-cyberduck"><code>Connection failed</code> message in Cyberduck</a></li>
<li><a href="faq-and-troubleshooting.html#invalid-account-or-accountpartition-when-logging-in"><code>Invalid account or account/partition</code> when logging in</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="get-your-certificate.html"><a href="get-your-certificate.html"><i class="fa fa-check"></i>Get Your Certificate</a></li>
<li class="chapter" data-level="" data-path="about-the-authors.html"><a href="about-the-authors.html"><i class="fa fa-check"></i>About the Authors</a></li>
<li class="divider"></li>
<p style="text-align:center;"> <a href="https://github.com/jhudsl/OTTR_Template" target="blank" > This content was published with</a> <a href="https://bookdown.org/" target="blank"> bookdown by: </a> </p>
<p style="text-align:center;"> <a href="https://hutchdatascience.org/"> The Fred Hutch Data Science Lab </a></p>
<p style="text-align:center; font-size: 12px;"> <a href="https://github.com/rstudio4edu/rstudio4edu-book/"> Style adapted from: rstudio4edu-book </a> <a href ="https://creativecommons.org/licenses/by/2.0/"> (CC-BY 2.0) </a></p>
<p style="padding-left: 40px;"><div class="trapezoid" style = "padding-left: 40px;"><span>  <a href="https://forms.gle/W6Mg4rzuMK6Yk3Am8"> Click here to provide feedback</a> <img src="assets/itcr_arrow.png" style=" width: 10%" ></span></div></p>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Fred Hutch Cluster 101</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<head>
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=10.0,initial-scale=1.0">
  <!--script src="https://kit.fontawesome.com/6a26f47516.js"></script-->
  <!--<script src="assets/hideOutput.js"></script>-->
  <link href="assets/style.css" rel="stylesheet">
</head>
        


<div class="hero-image-container"> 
  <img class= "hero-image" src="assets/dasl_thin_main_image.png">
</div>
<div id="file-upload-and-download" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> File Upload and Download</h1>
<p><img src="resources/images/06-upload-download_files/figure-html/1BQxrVYdKZTbpCaF-i_q9w7s9x034lEXpQZDU-Sl09cs_gff2211b72f_1_252.png" title="We are on the sixth step of the pathway." alt="We are on the sixth step of the pathway." width="80%" style="display: block; margin: auto;" /></p>
<p>Exchanging files with the cluster is very important. You can imagine scenarios where:</p>
<ul>
<li>You want to download log files or output files</li>
<li>You want to upload a custom <code>.sh</code> script file that you wrote on your laptop</li>
<li>You want to upload other files</li>
</ul>
<p>In this course, upload and download of files is performed using <a href="https://cyberduck.io/" target="_blank">Cyberduck</a>. Cyberduck is a tool that lets us connect to the cluster securely, browse files, and transfer files securely.</p>
<div class="warning">
<p>If you are working with sensitive data (such as data with <a href="https://www.hhs.gov/answers/hipaa/what-is-phi/index.html" target="_blank">PHI</a> that requires <a href="https://www.hhs.gov/hipaa/index.html" target="_blank">HIPAA compliance</a>, you need to be extra cautious about transferring your data to the cluster. Your home directory is not an appropriate storage option for such data. Make sure you consider any stipulations in your data use agreements.</p>
</div>
<div id="download-cyberduck" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Download Cyberduck</h2>
<p>Download the latest version of Cyberduck <a href="https://cyberduck.io/download/" target="_blank">here</a>.</p>
<p><img src="resources/images/06-upload-download_files/figure-html/1BQxrVYdKZTbpCaF-i_q9w7s9x034lEXpQZDU-Sl09cs_g16e400fe3e8_0_0.png" title="Downloads page for Cyberduck." alt="Downloads page for Cyberduck." width="100%" style="display: block; margin: auto;" /></p>
<div class="warning">
<p>Note that the version of Cyberduck in the Software Center or Self Service might not be current, causing compatibility issues with some operating systems.</p>
</div>
</div>
<div id="create-connection" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Create Connection</h2>
<p>Launch Cyberduck and click on “Open Connection”.</p>
<ul>
<li>From the dropdown menu, select “SFTP (SSH File Transfer Protocol)”</li>
<li>For Server, type “rhino.fhcrc.org”</li>
<li>Fill in your HutchNetID for Username and fill in your password</li>
</ul>
<p>Click “Connect”</p>
<p><img src="resources/images/06-upload-download_files/figure-html/1BQxrVYdKZTbpCaF-i_q9w7s9x034lEXpQZDU-Sl09cs_g1579ffd7b01_12_28.png" title="Screenshot of Cyberduck “Open Connection” configuration." alt="Screenshot of Cyberduck “Open Connection” configuration." width="100%" /></p>
<p>Click “Allow”. You can also check the box to indicate “Always”.</p>
<p><img src="resources/images/06-upload-download_files/figure-html/1BQxrVYdKZTbpCaF-i_q9w7s9x034lEXpQZDU-Sl09cs_g1579ffd7b01_12_33.png" title="You can select allow when Cyberduck asks about an Unknown Fingerprint." alt="You can select allow when Cyberduck asks about an Unknown Fingerprint." width="100%" /></p>
<p>You should see your script file “<code>01.sh</code>” and the log file.</p>
<p><img src="resources/images/06-upload-download_files/figure-html/1BQxrVYdKZTbpCaF-i_q9w7s9x034lEXpQZDU-Sl09cs_g1579ffd7b01_12_37.png" title="Files, including the script we previously ran, can be accessed via Cyberduck." alt="Files, including the script we previously ran, can be accessed via Cyberduck." width="100%" /></p>
</div>
<div id="download-and-edit-the-script" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Download and Edit the Script</h2>
<ul>
<li>Right click on “<code>01.sh</code>” and select “Download”</li>
<li>You will see a “Transfers” prompt open, and the <code>01.sh</code> file should now appear in your Downloads folder</li>
<li>Open the <code>01.sh</code> in your Downloads folder</li>
</ul>
<p><img src="resources/images/06-upload-download_files/figure-html/1BQxrVYdKZTbpCaF-i_q9w7s9x034lEXpQZDU-Sl09cs_g1579ffd7b01_12_41.png" title="Screenshot of the script opened on the users local laptop." alt="Screenshot of the script opened on the users local laptop." width="100%" /></p>
<p>Edit the message to include your name and save the file. Rename the file <code>01-name.sh</code>.</p>
<p><img src="resources/images/06-upload-download_files/figure-html/1BQxrVYdKZTbpCaF-i_q9w7s9x034lEXpQZDU-Sl09cs_g1579ffd7b01_12_45.png" title="Screenshot of the edited and renamed script file contents. The contents of the script now reads &quot;Hello, Ava!&quot;." alt="Screenshot of the edited and renamed script file contents. The contents of the script now reads &quot;Hello, Ava!&quot;." width="100%" /></p>
</div>
<div id="upload-the-new-script" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> Upload the New Script</h2>
<p>From your Downloads folder, simply drag the file to Cyberduck.</p>
<p><img src="resources/images/06-upload-download_files/figure-html/1BQxrVYdKZTbpCaF-i_q9w7s9x034lEXpQZDU-Sl09cs_g1579ffd7b01_12_49.png" title="Screenshot of local and Cyberduck files, depicting the dragging that transfers the file over." alt="Screenshot of local and Cyberduck files, depicting the dragging that transfers the file over." width="100%" /></p>
<p>You should now see the new script among your cluster files.</p>
<p><img src="resources/images/06-upload-download_files/figure-html/1BQxrVYdKZTbpCaF-i_q9w7s9x034lEXpQZDU-Sl09cs_g15cf3fa00a4_0_6.png" title="The new file is now listed in Cyberduck and is therefore on the cluster." alt="The new file is now listed in Cyberduck and is therefore on the cluster." width="100%" /></p>
</div>
<div id="run-the-new-script" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> Run the New Script</h2>
<p>Return to your Terminal. Submit a job with your new script by running the following. When you type <code>ls</code> you should see a new log file!</p>
<pre><code>sbatch 01-name.sh</code></pre>
<p><img src="resources/images/06-upload-download_files/figure-html/1BQxrVYdKZTbpCaF-i_q9w7s9x034lEXpQZDU-Sl09cs_gff2211b72f_1_0.png" title="After running the newly edited script, there is a new log file present on the cluster." alt="After running the newly edited script, there is a new log file present on the cluster." width="100%" /></p>
<div class="notice">
<p>The job numbers included in log file names generally increase in number. The greater the number, the more recently the job was run.</p>
</div>
<p>Use the <code>cat</code> command to inspect the log. Make sure you replace <code>[your-number-here]</code> to match your file. The message should show the new text that you added!</p>
<pre><code>cat slurm-[your-number-here].out</code></pre>
<p><img src="resources/images/06-upload-download_files/figure-html/1BQxrVYdKZTbpCaF-i_q9w7s9x034lEXpQZDU-Sl09cs_gff2211b72f_1_6.png" title="The message &quot;Hello, Ava!&quot; has been printed to the Terminal using the cat command." alt="The message &quot;Hello, Ava!&quot; has been printed to the Terminal using the cat command." width="100%" /></p>

</div>
</div>
<hr>
<center> 
  <div class="footer">
      All illustrations <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY. </a>
      <br>
      All other materials <a href= "https://creativecommons.org/licenses/by/4.0/"> CC-BY </a> unless noted otherwise.
      <a href="https://hutchdatascience.org/" target="_blank"><img src="https://hutchdatascience.org/images/crazy-idea-wide.png" style="width: 80%; padding-left: 15px; padding-top: 8px;"</a>
  </div>
</center>
            </section>

          </div>
        </div>
      </div>
<a href="submit-your-first-job.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="interactive-session.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/fhdsl/FH_Cluster_Guide/blob/main/06-upload-download.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Cluster_Guide.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
